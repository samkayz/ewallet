{% load static %}
{% load humanize %}
<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- The above 4 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <!-- Title -->
    <title>jCollect - Easy way to make Payment online</title>

    <!-- Favicon -->
    <link rel="icon" href="{% static 'home/images/fav.png'%}">

    <!-- These plugins only need for the run this page -->
    <link rel="stylesheet" href="{% static 'css/default-assets/datatables.bootstrap4.css'%}">
    <link rel="stylesheet" href="{% static 'css/default-assets/responsive.bootstrap4.css'%}">
    <link rel="stylesheet" href="{% static 'css/default-assets/buttons.bootstrap4.css'%}">
    <link rel="stylesheet" href="{% static 'css/default-assets/select.bootstrap4.css'%}">
    <link rel="stylesheet" href="{% static 'css/default-assets/notification.css'%}">

    <!-- Master Stylesheet [If you remove this CSS file, your file will be broken undoubtedly.] -->
    <link rel="stylesheet" href="{% static 'style.css'%}">

</head>

<body>
<!-- Preloader -->
{% include 'preloader.html' %}
<!-- Preloader -->


<!-- Setting Panel -->

<!-- ======================================
    ******* Page Wrapper Area Start **********
    ======================================= -->
<div class="ecaps-page-wrapper">
    <!-- Sidemenu Area -->
    {% include 'sidebar.html' %}

    <!-- Page Content -->
    <div class="ecaps-page-content">
        <!-- Top Header Area -->
        {% include 'header.html' %}
        <!-- Main Content Area -->
        <div class="main-content">
            <div class="data-table-area">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-12 box-margin">
                            <div class="card">
                                <div class="card-body">
                                    <h4 class="card-title mb-2">All Staff</h4>
                                    <div>
                                        <div class="text-left">
                                            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#payStaff">
                                                Pay Staff
                                            </button>
                                        </div>
                                        <div class="text-right">
                                            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">
                                                Add Staff
                                            </button>
                                        </div>
                                    </div>
                                    <p class="text-muted font-14 mb-4">
                                        {% for message in messages %}
                                            {% if message.level == DEFAULT_MESSAGE_LEVELS.WARNING %}
                                                <div class="alert alert-warning alert-dismissible fade show" role="alert">
                                                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                    <strong>Warning - </strong> {{ message }}
                                                </div>
                                            {% elif message.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %}
                                                <div class="alert alert-success alert-dismissible bg-success text-white border-0 fade show" role="alert">
                                                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                    <strong>Success - </strong> {{ message }}
                                                </div>
                                            {% elif message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
                                                <div class="alert alert-danger alert-dismissible bg-danger text-white border-0 fade show" role="alert">
                                                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                    <strong>Error - </strong> {{ message }}
                                                </div>
                                            {% endif %}
                                        {% endfor %}
                                    </p>
                                    <table id="datatable-buttons" class="table table-striped dt-responsive nowrap w-100">
                                        <thead>
                                        <tr>
                                            <th>Email</th>
                                            <th>Full Name</th>
                                            <th>Phone</th>
                                            <th>Salary</th>
                                            <th>Action</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        {% for data in show %}
                                            <tr>
                                                <td>{{ data.email }}</td>
                                                <td>{{ data.first_name }} {{ data.last_name }}</td>
                                                <td>{{ data.phone_no }}</td>
                                                <td>â‚¦ {{ data.amount|intcomma }}</td>
                                                <td>
                                                    <a href="pay_single/{{ data.id }}"><button type="button" class="btn btn-success btn-circle btn-xl mb-2"><i class="fa fa-check"></i> </button></a>
                                                    <a href="delete_staff/{{ data.id }}"><button type="button" class="btn btn-danger btn-circle btn-xl mb-2"><i class="fa fa-times"></i> </button></a>
                                                </td>
                                            </tr>
                                        {% endfor %}
                                        </tbody>
                                    </table>

                                </div> <!-- end card body-->
                            </div> <!-- end card -->
                        </div><!-- end col-->
                    </div>
                    <!-- end row-->
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal inmodal" id="myModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content animated bounceInRight">
            <div class="modal-header">
                <h4 class="modal-title d-block">Add New Staff</h4>
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#csv">
                    Upload CSV
                </button>
            </div>
            <div class="modal-body">
                <form method="post" action="add_staff">
                    {% csrf_token %}
                    <div class="form-group">
                        <label>First Name</label>
                        <input type="text" name="first_name" placeholder="Enter First Name" class="form-control">
                    </div>
                    <div class="form-group">
                        <label>Last Name</label>
                        <input type="text" name="last_name" placeholder="Enter Last Name" class="form-control">
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" name="email" placeholder="Enter email" class="form-control">
                    </div>
                    <div class="form-group">
                        <label>Mobile No</label>
                        <input type="number" name="mobile_no" placeholder="Enter Mobile No" class="form-control">
                    </div>
                    <div class="form-group">
                        <label>Amount</label>
                        <input type="number" name="amount" placeholder="Enter Amount" class="form-control">
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                        <button type="submit" class="btn btn-primary">Save changes</button>
                    </div>
                </form>
            </div>

        </div>
    </div>
</div>
<div class="modal inmodal" id="csv" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content animated bounceInRight">
            <div class="modal-header">
                <h4 class="modal-title d-block">Add New Staff</h4>
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#csv">
                    Upload CSV
                </button>
            </div>
            <div class="modal-body">
                <form method="post" action="upload_staff" enctype="multipart/form-data">
                    {% csrf_token %}
                    <div class="form-group">
                        <label>Upload File</label>
                        <input type="file" name="file" class="form-control">
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                        <button type="submit" class="btn btn-primary">Upload</button>
                    </div>
                </form>
            </div>

        </div>
    </div>
</div>
<div class="modal inmodal" id="payStaff" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content animated bounceInRight">
            <div class="modal-header">
                <h4 class="modal-title d-block">Pay Staff</h4>
            </div>
            <div class="modal-body">
                <form method="post" action="pay_staff">
                    {% csrf_token %}
                    <div class="form-group">
                        <label>Month</label>
                        <select class="form-control" name="month">
                            <option>Select Month</option>
                            <option></option>
                            <option value="January">January</option>
                            <option value="February">February</option>
                            <option value="March">March</option>
                            <option value="April">April</option>
                            <option value="May">May</option>
                            <option value="June">June</option>
                            <option value="July">July</option>
                            <option value="August">August</option>
                            <option value="September">September</option>
                            <option value="October">October</option>
                            <option value="November">November</option>
                            <option value="December">December</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Comment</label>
                        <textarea class="form-control" name="comment"></textarea>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                        <button type="submit" class="btn btn-primary">Pay Now</button>
                    </div>
                </form>
            </div>

        </div>
    </div>
</div>

<!-- ======================================
    ********* Page Wrapper Area End ***********
    ======================================= -->

<!-- Must needed plugins to the run this Template -->
<script src="{% static 'js/jquery.min.js'%}"></script>
<script src="{% static 'js/popper.min.js'%}"></script>
<script src="{% static 'js/bootstrap.min.js'%}"></script>
<script src="{% static 'js/bundle.js'%}"></script>
<script src="{% static 'js/default-assets/setting.js'%}"></script>
<script src="{% static 'js/default-assets/fullscreen.js'%}"></script>

<!-- Active JS -->
<script src="{% static 'js/default-assets/active.js'%}"></script>

<!-- These plugins only need for the run this page -->
<script src="{% static 'js/default-assets/jquery.datatables.min.js'%}"></script>
<script src="{% static 'js/default-assets/datatables.bootstrap4.js'%}"></script>
<script src="{% static 'js/default-assets/datatable-responsive.min.js'%}"></script>
<script src="{% static 'js/default-assets/responsive.bootstrap4.min.js'%}"></script>
<script src="{% static 'js/default-assets/datatable-button.min.js'%}"></script>
<script src="{% static 'js/default-assets/button.bootstrap4.min.js'%}"></script>
<script src="{% static 'js/default-assets/button.html5.min.js'%}"></script>
<script src="{% static 'js/default-assets/button.flash.min.js'%}"></script>
<script src="{% static 'js/default-assets/button.print.min.js'%}"></script>
<script src="{% static 'js/default-assets/datatables.keytable.min.js'%}"></script>
<script src="{% static 'js/default-assets/datatables.select.min.js'%}"></script>
<script src="{% static 'js/default-assets/demo.datatable-init.js'%}"></script>
<script src="{% static 'js/default-assets/bootstrap-growl.js'%}"></script>
<script src="{% static 'js/default-assets/notification-active.js'%}"></script>

</body>
</html>